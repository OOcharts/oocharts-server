<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>OOcharts Server by OOcharts</title>

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lobster"/>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Arvo:400,700"/>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="stylesheets/styles.css">

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>


<header class="main-header">
    <div class="container text-center">
        <h1>OOcharts <span class="oocharts-teal">Server</span></h1>
        <h4>The Simple API for Google Analyticsâ„¢</h4>

    </div>
</header>
<nav class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="active"><a href="./">Getting Started</a></li>
                <li><a href="./install.html">Install</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li><a href="https://github.com/oocharts/oocharts-server">GitHub</a></li>

            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>
<div class="main-content container">
    <h2>
        Getting Started
    </h2>
    <section>
        <p>
            We will be using Digital Ocean for our example OOcharts server. Digital Ocean has always delivered top-quality service and speed for us, so we highly recommend them. If you want to try out Digital Ocean and use us as a reference (to support further development), please use the button below.
        </p>
        <p>
            <a class="btn btn-primary" target="_blank" href="https://www.digitalocean.com/?refcode=566c662914b3">Try out Digital Ocean</a>
        </p>
        <p>
            <small>
                You can also check <a href="http://www.digitalocean.com">them</a> out without using us as a reference.
            </small>
        </p>
    </section>
    <section>
        <h3>
            The Server
        </h3>
        <p>
            To get started, we will setup an Ubuntu 14.04 server on Digital Ocean. It's as simple as creating a $5/mo droplet. Once we have an IP address for the new server, I will assign it to a domain in my DNS settings. For this example, the server will be located at <code>oocharts.tylershaddix.com</code>.

        </p>
        <p>
            For a Digital Ocean Ubuntu 14.04 server, I only need to install two things before continuing. As root (or a sudo user) I am going to install NodeJS and NPM (Node Package Manager):
        </p>
        <p>
            <kbd>
                apt-get install nodejs npm
            </kbd>
        </p>
        <p>
            And now we can install OOcharts by running this command in the directory we want OOcharts Server installed:
        </p>
        <p>
            <kbd>wget -qO- http://oocharts.github.io/oocharts-server/install/linux.sh | sh</kbd>
        </p>
        <p>
            Ready to run OOcharts?
        </p>
        <p>
            <kbd>cd oocharts-server && nodejs app</kbd>
        </p>
    </section>
    <section>
        <h3>
            The Google App
        </h3>
        <p>
            Go to <a href="https://console.developers.google.com/project">Google Developer Console</a>.
        </p>
        <p>
            Create a Project. Pick whatever Project name and Project ID you'd like. I use "OOcharts Server" for the name and choose whatever project ID is generated for me.
        </p>
        <p>
            Once the project has been created, navigate to the APIs & auth section.
        </p>
        <p>
            Under APIs, turn on "Analytics API" and turn off any other APIs that may default to on (Such as "Google Cloud SQL").
        </p>
        <p>
            Next, go the Credentials. Select "Create a New Client ID". OOcharts is a Web Application. Remove the Authorized JavaScript origins and then in the callback section you will be putting your server domain plus a few extras. By default, OOcharts runs on port 4004 and has a callback url of <code>/setup/google-callback</code>. In this example, I would put as the Authorized redirect URI: <code>http://oocharts.tylershaddix.com:4004/setup/google-callback</code>.
        </p>
        <p>
            Once the ID is created, take note of the Client ID and Client secret provided. We will need them when we setup OOcharts.
        </p>
    </section>
    <section>
        <h3>Setup OOcharts Server</h3>
        <p>
            Now you're ready for the last step, which is configuring your server. Navigate to <code>/setup</code>. In my case, I would navigate to <code>http://oocharts.tylershaddix.com:4004/setup</code>.
        </p>
        <p>
            Fill in the Google Client ID and Secret you created above. In the host url, I would put <code>http://oocharts.tylershaddix.com:4004</code>.
        </p>
        <p>
            If you want to specify your own API Key (perhaps from your OOcharts legacy account), you can fill in that field. If not, the server will generate one and present it to you when you're done connecting your account.
        </p>
        <p>
            Submitting the form should redirect you to Google for Authorization. When you return, your API Key will be ready for you.
        </p>
    </section>
    <section>
        <h3>Using OOcharts</h3>
        <p>
            Now that the server is setup, you can access all the power of the legacy api by using the endpoint <code>/api/dynamic.json</code> or <code>/api/dynamic.jsonp</code>.
        </p>

        <p>
            If you want to use the original charts library with your own server, you can use this repository: <a
                href="https://github.com/OOcharts/oocharts-legacy-charts">oocharts-legacy-charts</a>. Just use the <code>oo.setServiceEndpoint(endpoint)</code> method to point to your newly created server. In my case, I would use:
        </p>
        <p>
            <code>oo.setServiceEndpoint('http://oocharts.tylershaddi.com:4004/api/dynamic.jsonp');</code>
        </p>
    </section>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
</body>
</html>